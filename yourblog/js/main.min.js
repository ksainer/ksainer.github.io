function throttle(e,t){let n=!0,o=null;return function i(){n?(e.apply(this,arguments),o=null,n=!1,setTimeout(()=>{n=!0,o&&i(...o)},t)):o=arguments}}function debounce(e,t){var n=0;return function(){var o=this,i=arguments;n&&clearTimeout(n),n=setTimeout(function(){e.apply(o,i),n=0},t)}}function createNotice(e,t=15e3){let n=document.body.querySelector(".notice-message");n&&(n.remove(),clearTimeout(createNotice.idTimer)),notice=document.createElement("div"),notice.className="notice-message",notice.innerHTML=e,noticeClose=document.createElement("span"),noticeClose.className="close-button notice-close",noticeClose.onclick=function(){this.parentElement.remove()},notice.append(noticeClose),document.body.prepend(notice),createNotice.idTimer=setTimeout(()=>notice.remove(),t)}function setColors(e,t){const n=["#00aedb","#8cc63f","#ec098d","#f78f1d","#FF0000"],o={"tv show":0,cinema:0,travel:1,fashion:2,television:2,sport:3,music:4};if(t)for(let t=0;t<e.length;++t){let i=e[t].innerHTML.trim().toLowerCase(),c=n[o[i]];c&&(e[t].style.backgroundColor=c)}else for(let t=0;t<e.length;++t){let o=n[t-n.length*Math.floor(t/n.length)];e[t].style.backgroundColor=o}}function formSubmit(e){e.preventDefault(),fetch("checksignin.php",{method:"POST",body:new FormData(this)}).then(e=>{if(e.ok)return e.text()}).then(e=>{e?createNotice(e):this.submit()}).catch(e=>console.error(e))}function checkEmail(e){""!=e.value&&fetch("checkemail.php",{method:"POST",body:"email="+e.value,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(e=>{if(e.ok)return e.text()}).then(t=>{const n=e.parentElement.parentElement;t?(e.style.outline="2px solid #f00",n.classList.add("input-invalid"),n.classList.remove("input-valid"),n.querySelector(".input-text-error").innerHTML=t):(e.style.outline="2px solid #00D961",n.classList.add("input-valid"),n.classList.remove("input-invalid"),n.querySelector(".input-text-error").innerHTML="")}).catch(e=>console.error(e))}function checkPasswords(){}document.addEventListener("DOMContentLoaded",()=>{function e(){let e=document.documentElement.scrollTop,t=document.documentElement.clientHeight,n=document.documentElement.clientWidth;e+200<n&&(l.style.transform=`rotate(30deg) scaleX(${1+e/t*2})`)}function t(){document.documentElement.scrollTop<150?d.style.transform="scaleY(0)":d.style.transform=""}function n(){function e(){m.clientHeight>h?(y.classList.contains("visible")||y.classList.add("visible"),f.prepend(m.lastElementChild),m.clientHeight>h&&e()):f.children.length&&(m.append(f.firstElementChild),e()),f.children.length||(f.classList.remove("visible"),y.classList.remove("visible"))}e()}function o(){x.classList.add("back-arrow"),E.classList.add("sidebar-show"),T.style.display="block",r.hidden=!1,a="sidebar"}function i(){x.classList.remove("back-arrow"),E.classList.remove("sidebar-show"),T.style.display="",r.hidden=!0,a=""}function c(){"sidebar"==a&&i()}function s(e){e.style.fontSize=Math.floor(13+17*Math.random())+"px",e.style.fontWeight=Math.random()<.3?"bold":"",e.style.color=Math.random()<.15?"#f78f1d":""}const l=document.body.querySelector(".lines");e=throttle(e,100),window.addEventListener("scroll",()=>e());const r=document.body.querySelector(".scrim");let a;r.onclick=function(){switch(a){case"sidebar":i();break;case"signIn":g()}};const d=document.body.querySelector(".button-to-up");d.onclick=function(){let e=setInterval(()=>{let t=window.pageYOffset;t>0?(t-=150,window.scrollTo(0,t)):clearInterval(e)},10)},t(),t=throttle(t,100),window.addEventListener("scroll",()=>t());const u=document.body.querySelector(".main-menu"),m=u.querySelector(".main-menu__list"),h=m.querySelector(".main-menu__item").clientHeight;setColors(m.children);const y=u.querySelector(".main-menu__more-btn"),f=u.querySelector(".main-menu__more-list");y.onclick=function(){f.classList.toggle("visible")},document.addEventListener("click",function(e){!u.contains(e.target)&&f.classList.contains("visible")&&f.classList.remove("visible")}),document.addEventListener("keydown",()=>{"Escape"==event.key&&f.classList.contains("visible")&&f.classList.remove("visible")}),n(),n=debounce(n,500),window.addEventListener("resize",function(){n()});const b=document.body.querySelector(".auth");if(b){const e=b.querySelectorAll(".wrap-password");for(let t=0;t<e.length;++t)e[t].onclick=function(e){if(e.target.classList.contains("show-pass")){const t=this.getElementsByTagName("input");e.target.classList.toggle("hidePass");for(let e=0;e<t.length;++e){let n="text"==t[e].type?"password":"text";t[e].setAttribute("type",n)}}};const t=document.body.querySelector(".sign-in__button");t.onclick=v;const n=b.querySelector(".auth__close-button");function v(){r.style.zIndex="6",r.hidden=!1,b.hidden=!1,a="signIn",b.querySelector("input").focus()}function g(){r.style.zIndex="",r.hidden=!0,b.hidden=!0,a=""}n.onclick=g;const o=b.querySelector(".auth__sign-in"),i=b.querySelector(".auth__sign-up"),c=b.querySelector(".form-sign-in"),s=b.querySelector(".form-sign-up");function p(){this.classList.contains("auth__active")||(o.classList.toggle("auth__active"),i.classList.toggle("auth__active"),c.classList.toggle("visible"),s.classList.toggle("visible"))}o.onclick=i.onclick=p,c.querySelector("form").onsubmit=formSubmit}const L=document.body.querySelector(".account");if(L){const e=L.querySelector(".account__button"),t=L.querySelector(".account__menu");setColors(t.children),e.onclick=function(){t.classList.toggle("visible")},document.addEventListener("click",function(e){!L.contains(e.target)&&t.classList.contains("visible")&&t.classList.remove("visible")}),document.addEventListener("keydown",()=>{"Escape"==event.key&&t.classList.contains("visible")&&t.classList.remove("visible")})}const _=document.body.querySelector(".slider");if(_){let e=_.clientWidth;const t=_.querySelector(".slider__list"),n=_.querySelector(".slider__btn-prev"),o=_.querySelector(".slider__btn-next");let i=0;const c=t.firstElementChild.clientWidth;let s=Math.floor(e/c);function S(){e=_.clientWidth,s=Math.floor(e/c),s=Math.max(1,Math.min(2,s)),i<-(t.scrollWidth-e-5)?(i=-(t.scrollWidth-e+30),o.hidden=!0):o.hidden=!1,t.style.transform=`translateX(${i}px)`}s=Math.max(1,Math.min(2,s)),n.hidden=!0,n.onclick=function(){i+=c*s,i>-5&&(i=0,n.hidden=!0),t.style.transform=`translateX(${i}px)`,o.hidden=!1},o.onclick=function(){i-=c*s,i<-(t.scrollWidth-e-5)&&(i=-(t.scrollWidth-e+30),o.hidden=!0),t.style.transform=`translateX(${i}px)`,n.hidden=!1},S=throttle(S,200),window.addEventListener("resize",()=>S());const l=t.querySelectorAll(".slider__topic");setColors(l,!0);for(let e of t.children)e.firstElementChild.setAttribute("tabindex","-1")}const w=document.body.querySelectorAll(".gallery__list");if(w){function q(e){for(let t=0;t<e.length;t++){const n=e[t].children,o=n.length<5?4:5,i=e[t].clientWidth/o+"px";for(let e=0;e<n.length;e++)n[e].style.height=i,n[e].style.width=i,!e||(e+1)%o||(n[e].style.marginRight=0)}}q(w),q=debounce(q,1e3);for(let e=0;e<w.length;e++){let t=w[e].parentElement.querySelector(".gallery__current-img");w[e].onclick=function(){let e=event.target;if("IMG"==e.tagName){let n=e.dataset.bigsize;t.setAttribute("src",n)}}}window.addEventListener("resize",function(){window.innerWidth<1100&&q(w)})}const k=document.body.querySelector(".last-stories");k.onclick=function(e){const t=e.target,n=t.dataset.topic;if(!n||t.classList.contains("active-category"))return;const o=k.querySelector(".active-category"),i=o.dataset.topic;o.classList.remove("active-category"),k.querySelector(".topic__"+i).style.display="none",t.classList.add("active-category"),k.querySelector(".topic__"+n).style.display="block"};const E=document.body.querySelector(".sidebar"),x=E.querySelector(".button-sidebar"),T=E.querySelector(".sidebar__wrap");setColors(E.querySelector(".last-stories__menu").children,!0),x.onclick=function(){"sidebar"==a?i():o()},c=throttle(c,200),window.addEventListener("resize",()=>{window.innerWidth>1e3&&c()});const C=document.body.querySelectorAll(".tag-cloud__item");C.forEach(e=>s(e)),document.addEventListener("keydown",e=>{"Escape"!=e.key||r.hidden||r.click()})}),createNotice("Error Message Test. Will close after 5 seconds.",5e3);